// miniprogram/pages/echarts/test.js
const echarts=require('../../ec-canvas/echarts')
function initChart(canvas, width, height) {
  const chart = echarts.init(canvas, null, {
    width: width,
    height: height
  });
  canvas.setChart(chart);
  var option = {
    title: {
        text: '上海地铁'
    },
    tooltip: {
        trigger: 'axis'
    },
    legend: {
        type:'scroll',
        bottom: 10,
        data: ['一号线', '二号线', '三号线', '四号线', '五号线', '六号线', '七号线', '八号线', '九号线']
    },
    color:['rgb(234,27,57)', 'rgb(139,196,63)', 'rgb(251,210,8)', 'rgb(81,45,141)', 'rgb(144,86,163)', 'rgb(214,24,112)', 'rgb(244,113,33)', 'rgb(0,158,219)', 'rgb(121,201,238)'],
    grid: {
        left: '3%',
        right: '4%',
        bottom: '10%',
        containLabel: true
    },
    xAxis: {
        type: 'value',
        boundaryGap: false,
        min:'dataMin',
        max:'dataMax',
    },
    yAxis: {
        type: 'value',
        min:'dataMin',
        max:'dataMax',
    },
    dataZoom: [
        {
            type: 'inside',
            filterMode:'none',
            xAxisIndex: [0],
            yAxisIndex: [0],
            start: 20,
            end: 70
        },
    ],
    series: [
        {
            name: '一号线',
            type: 'line',
            symbol:'roundRect',
            data: [
    [121.384999, 31.110924],
    [121.393221, 31.121183],
    [121.402798, 31.13083],
    [121.414203, 31.142223],
    [121.430313, 31.154062],
    [121.435039, 31.168308],
    [121.437, 31.182469],
    [121.436761, 31.194523],
    [121.446745, 31.204982],
    [121.450182, 31.213704],
    [121.458835, 31.215839],
    [121.47326, 31.222842],
    [121.474496, 31.232892],
    [121.468316, 31.238599],
    [121.458756, 31.241062],
    [121.457529, 31.248895],
    [121.459153, 31.259183],
    [121.455478, 31.271806],
    [121.452091, 31.279592],
    [121.450145, 31.292563],
    [121.448675, 31.30669],
    [121.447044, 31.319004],
    [121.441394, 31.331446],
    [121.437755, 31.339638],
    [121.434029, 31.355205],
    [121.430942, 31.369858],
    [121.427904, 31.381487],
    [121.424605, 31.392434]

    
]
        },
        {
            name: '二号线',
            type: 'line',
            symbol:'roundRect',
            data: [
    [121.301074, 31.189171],
    [121.321479, 31.193949],
    [121.326846, 31.194193],
    [121.359199, 31.218234],
    [121.374017, 31.216442],
    [121.38705, 31.214825],
    [121.404266, 31.211049],
    [121.416475, 31.218071],
    [121.431286, 31.220193],
    [121.447473, 31.223046],
    [121.460734, 31.22887],
    [121.474496, 31.232892],
    [121.484278, 31.237993],
    [121.50222, 31.237995],
    [121.51542, 31.233351],
    [121.526895, 31.228963],
    [121.544167, 31.21928],
    [121.550752, 31.209589],
    [121.557498, 31.202813],
    [121.587576, 31.201769],
    [121.601977, 31.204176],
    [121.620564, 31.211007],
    [121.656115, 31.213732],
    [121.67389, 31.213386],
    [121.680872, 31.1968],
    [121.698061, 31.18661],
    [121.723733, 31.192839],
    [121.755576, 31.19946],
    [121.796832, 31.168609],
    [121.806564, 31.149329]
]
        },
        {
            name: '三号线',
            type: 'line',
            symbol:'roundRect',
            data: [
    [121.430313, 31.154062],
    [121.443238, 31.157958],
    [121.444209, 31.169935],
    [121.438344, 31.176635],
    [121.42737, 31.186335],
    [121.421594, 31.196919],
    [121.417082, 31.209773],
    [121.416475, 31.218071],
    [121.413002, 31.231898],
    [121.417678, 31.238746],
    [121.430381, 31.246649],
    [121.441039, 31.254671],
    [121.457529, 31.248895],
    [121.476514, 31.251559],
    [121.480089, 31.260009],
    [121.479263, 31.270898],
    [121.482449, 31.281305],
    [121.483071, 31.289359],
    [121.485091, 31.305415],
    [121.484852, 31.319817],
    [121.491588, 31.332023],
    [121.500535, 31.345162],
    [121.498802, 31.358022],
    [121.4928, 31.370922],
    [121.488168, 31.381365],
    [121.479583, 31.39555],
    [121.476041, 31.404031],
    [121.461397, 31.408172],
    [121.439828, 31.407873]
]
        },
        {
            name: '四号线',
            type: 'line',
            symbol:'roundRect',
            data: [
    [121.42737, 31.186335],
    [121.421594, 31.196919],
    [121.417082, 31.209773],
    [121.416475, 31.218071],
    [121.413002, 31.231898],
    [121.417678, 31.238746],
    [121.430381, 31.246649],
    [121.441039, 31.254671],
    [121.457529, 31.248895],
    [121.476514, 31.251559],
    [121.488858, 31.259009],
    [121.501028, 31.260946],
    [121.513012, 31.258],
    [121.51738, 31.251958],
    [121.519479, 31.239907],
    [121.526895, 31.228963],
    [121.532017, 31.222927],
    [121.527846, 31.211741],
    [121.518818, 31.209521],
    [121.499744, 31.20865],
    [121.489533, 31.202029],
    [121.474474, 31.199035],
    [121.463634, 31.194274],
    [121.454727, 31.191049],
    [121.443848, 31.185832],
    [121.437, 31.182469],
    [121.42737, 31.186335]
]
        },
        {
            name: '五号线',
            type: 'line',
            symbol:'roundRect',
            data: [
    [121.369879, 31.000653],
    [121.380705, 31.003543],
    [121.395042, 31.007317],
    [121.410067, 31.011051],
    [121.419883, 31.018214],
    [121.416495, 31.026483],
    [121.410017, 31.045051],
    [121.401913, 31.066942],
    [121.390277, 31.089334],
    [121.385711, 31.098298],
    [121.384999, 31.110924]
]
        },
         {
            name: '六号线',
            type: 'line',
            symbol:'roundRect',
            data: [
    [121.480468, 31.153615],
    [121.495107, 31.14873],
    [121.50638, 31.149154],
    [121.514597, 31.149851],
    [121.515725, 31.159528],
    [121.510946, 31.172531],
    [121.509846, 31.185565],
    [121.51652, 31.193226],
    [121.523258, 31.203515],
    [121.527846, 31.211741],
    [121.532017, 31.222927],
    [121.526895, 31.228963],
    [121.534397, 31.232965],
    [121.543473, 31.235872],
    [121.552807, 31.239241],
    [121.564155, 31.245305],
    [121.572879, 31.250391],
    [121.581896, 31.257185],
    [121.586945, 31.263954],
    [121.588078, 31.271906],
    [121.589019, 31.280517],
    [121.588814, 31.29089],
    [121.589332, 31.302705],
    [121.589398, 31.312434],
    [121.602083, 31.32147],
    [121.593995, 31.335382],
    [121.586947, 31.347771],
    [121.574695, 31.353027]
]
        },
         {
            name: '七号线',
            type: 'line',
            symbol:'roundRect',
            data: [
    [121.562802, 31.211214],
    [121.557498, 31.202813],
    [121.550069, 31.193192],
    [121.539978, 31.187531],
    [121.525141, 31.187574],
    [121.509846, 31.185565],
    [121.500696, 31.182132],
    [121.494558, 31.178449],
    [121.486102, 31.174594],
    [121.473533, 31.171983],
    [121.457183, 31.185069],
    [121.454727, 31.191049],
    [121.450025, 31.199134],
    [121.450182, 31.213704],
    [121.447473, 31.223046],
    [121.442319, 31.23412],
    [121.438338, 31.240367],
    [121.430381, 31.246649],
    [121.421897, 31.256332],
    [121.4226, 31.263904],
    [121.423062, 31.273935],
    [121.421636, 31.284976],
    [121.416477, 31.293625],
    [121.41369, 31.303877],
    [121.408243, 31.315554],
    [121.398681, 31.321319],
    [121.38871, 31.320513],
    [121.373545, 31.322445],
    [121.372685, 31.344913],
    [121.362287, 31.357664],
    [121.355743, 31.36427],
    [121.357652, 31.38846],
    [121.349903, 31.401933]
]
        },
        {
            name: '八号线',
            type: 'line',
            symbol:'roundRect',
            data:[
    [121.512253, 31.061341],
    [121.51057, 31.073933],
    [121.508562, 31.084263],
    [121.50629, 31.09656],
    [121.497775, 31.11926],
    [121.489706, 31.141059],
    [121.480468, 31.153615],
    [121.493726, 31.161075],
    [121.496164, 31.170842],
    [121.494558, 31.178449],
    [121.494176, 31.185702],
    [121.489533, 31.202029],
    [121.486141, 31.211668],
    [121.48291, 31.218929],
    [121.479306, 31.227381],
    [121.474496, 31.232892],
    [121.471485, 31.242395],
    [121.468893, 31.25313],
    [121.468741, 31.263498],
    [121.479263, 31.270898],
    [121.490473, 31.276488],
    [121.501601, 31.275148],
    [121.509518, 31.273205],
    [121.518256, 31.2751],
    [121.527937, 31.278692],
    [121.534948, 31.288657],
    [121.533218, 31.295867],
    [121.532011, 31.304952],
    [121.532088, 31.31485],
    [121.532045, 31.322441]
]
        },
        {
            name: '九号线',
            type: 'line',
            symbol:'roundRect',
            data: [
    [121.231129, 30.985034],
    [121.229287, 31.001071],
    [121.230598, 31.016134],
    [121.230747, 31.030297],
    [121.23269, 31.054132],
    [121.23048, 31.084475],
    [121.22971, 31.104687],
    [121.26064, 31.11832],
    [121.318946, 31.137478],
    [121.338306, 31.149682],
    [121.349523, 31.15547],
    [121.368979, 31.158204],
    [121.384582, 31.166576],
    [121.397601, 31.17048],
    [121.418512, 31.174918],
    [121.42737, 31.186335],
    [121.436761, 31.194523],
    [121.450025, 31.199134],
    [121.460783, 31.202906],
    [121.468877, 31.206165],
    [121.476777, 31.209447],
    [121.486141, 31.211668],
    [121.498298, 31.217011],
    [121.516312, 31.230397],
    [121.526895, 31.228963],
    [121.548594, 31.227446]
]
        }
    ]
};
   
  
  
  chart.setOption(option);
  return chart;
}

Page({
  data: {
    ec: {
      onInit: initChart
    }
  }
});
